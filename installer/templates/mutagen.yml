sync:
    defaults:
        permissions:
            defaultFileMode: "0644"
            defaultDirectoryMode: "0755"
        ignore:
            paths:
                - ".DS_Store"
                - "._*"
                - "*~"
                - "*.sw[a-p]"
                - ".idea"
            vcs: true
    in:
        mode: "one-way-replica"
        watch:
            #   Linux has no native recursive file watcher so to save on high CPU usage we have to poll less frequently
            #   For Windows/MacOS you should be able to use a polling interval of 2
            pollingInterval: 5 # For linux
#            pollingInterval: 2 # For MacOS/Windows
        alpha: "."
        beta: "docker://{{ container_prefix }}_phpfpm/var/www/html"
        configurationBeta:
            permissions:
                defaultGroup: "www-data"
                defaultOwner: "www-data"
        ignore:
            paths:
#               - Ignore all instances of node_modules
                - "**/node_modules"
#               - Ignore everything that is dealt with in other sessions
                - "/generated"
                - "/pub/static"
                - "/pub/media"
                - "/skywire-docker"
                - "/skywire-patternlab"
                - "/dev"
                - "/tools"
                - "/var"
                - "/vendor"
    out:
        mode: "one-way-replica"
        watch:
            #   Linux has no native recursive file watcher so to save on high CPU usage we have to poll less frequently
            #   For Windows/MacOS you should be able to use a polling interval of 2
            pollingInterval: 10 # For linux
        #            pollingInterval: 2 # For MacOS/Windows
        alpha: "."
        beta: "docker://{{ container_prefix }}_phpfpm/var/www/html"
        configurationBeta:
            permissions:
                defaultGroup: "www-data"
                defaultOwner: "www-data"
        ignore:
            paths:
                # Ignore everything
                - "/**"
                # Apart from generated for Xdebug
                - "!/generated"
                # Apart from var/log, var/report
                - "!/var"
                - "/var/**"
                - "!/var/log"
                - "!/var/report"
    twoWay:
        mode: "two-way-resolved"
        watch:
            pollingInterval: 10
        alpha: "docker://{{ container_prefix }}_phpfpm/var/www/html"
        configurationAlpha:
            permissions:
                defaultGroup: "www-data"
                defaultOwner: "www-data"
        beta: '.'
        ignore:
            paths:
#               - Ignore everything
                - "/**"
#               - Apart from pub/static for quick clearing of static files
                - "!/pub/static"
#               - Apart from pub/media syncing
                - "!/pub/media"
#               - Apart from vendor dir
                - "!/vendor"
